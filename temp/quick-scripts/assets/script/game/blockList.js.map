{"version":3,"sources":["blockList.js"],"names":["GameData","require","cc","Class","extends","Component","properties","onLoad","_isEmitable","start","count","firstLine","centerLine","secondLine","actorLine","passedCenter","passedActor","update","dt","endPos","node","y","height","parent","emit","disableEvent"],"mappings":";;;;;;AAAA;AACA,IAAIA,WAAWC,QAAQ,UAAR,CAAf;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY,EAHP;;AAML;;AAEAC,UARK,oBAQK;AACN,aAAKC,WAAL,GAAmB,IAAnB;AACH,KAVI;AAYLC,SAZK,mBAYI;AACL,aAAKC,KAAL,GAAa,CAAb;AACA,aAAKC,SAAL,GAAiBX,SAASY,UAA1B;AACA,aAAKC,UAAL,GAAkBb,SAASc,SAAT,GAAmB,GAArC;AACA,aAAKC,YAAL,GAAoB,KAApB;AACA,aAAKC,WAAL,GAAmB,KAAnB;AACH,KAlBI;AAoBLC,UApBK,kBAoBGC,EApBH,EAoBO;AACR,YAAG,KAAKV,WAAR,EAAoB;AAChB,gBAAIW,SAAS,KAAKC,IAAL,CAAUC,CAAV,GAAc,KAAKD,IAAL,CAAUE,MAArC;;AAEA,gBAAGH,SAAS,KAAKR,SAAd,IAA2B,CAAC,KAAKI,YAApC,EAAiD;AAC7C,qBAAKA,YAAL,GAAoB,IAApB;AACA,qBAAKK,IAAL,CAAUG,MAAV,CAAiBC,IAAjB,CAAsB,kBAAtB;AACH;;AAED,gBAAGL,SAAS,KAAKN,UAAd,IAA4B,CAAC,KAAKG,WAArC,EAAiD;AAC7C,qBAAKA,WAAL,GAAmB,IAAnB;AACA,qBAAKI,IAAL,CAAUG,MAAV,CAAiBC,IAAjB,CAAsB,iBAAtB;AACH;AACJ;AAEJ,KAnCI;AAoCLC,gBApCK,0BAoCS;AACV,aAAKjB,WAAL,GAAmB,KAAnB;AACH;AAtCI;AAuCL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAjDJ","file":"blockList.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\game","sourcesContent":["// var CHD = require(\"commonHandler\");\r\nvar GameData = require(\"gameData\");\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        this._isEmitable = true;\r\n    },\r\n\r\n    start () {\r\n        this.count = 0;\r\n        this.firstLine = GameData.centerLine;\r\n        this.secondLine = GameData.actorLine+150;\r\n        this.passedCenter = false;\r\n        this.passedActor = false;\r\n    },\r\n\r\n    update (dt) {\r\n        if(this._isEmitable){\r\n            var endPos = this.node.y + this.node.height;\r\n\r\n            if(endPos < this.firstLine && !this.passedCenter){\r\n                this.passedCenter = true;\r\n                this.node.parent.emit('passedCenterLine');\r\n            }\r\n            \r\n            if(endPos < this.secondLine && !this.passedActor){\r\n                this.passedActor = true;\r\n                this.node.parent.emit('passedActorLine');\r\n            }\r\n        }\r\n        \r\n    },\r\n    disableEvent(){\r\n        this._isEmitable = false;\r\n    },\r\n    // exploreAll(){\r\n    //     let childs = this.node.children;\r\n    //     for(let x in childs){\r\n    //         let child = childs[x];\r\n    //         if(child.name == 'block' || child.name == 'starBlock'){\r\n    //             child.getComponent('block').explore();\r\n    //         }else if(child.name == 'endBlock'){\r\n    //             child.getComponent('endBlock').explore();\r\n    //         }\r\n    //     }\r\n    // }\r\n\r\n});\r\n"]}