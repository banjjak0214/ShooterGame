{"version":3,"sources":["rankView.js"],"names":["CHD","require","cc","Class","extends","Component","properties","subCanvas","default","type","Sprite","returnBtn","Node","friendBtn","onLoad","start","window","wx","undefined","showShareMenu","withShareTicket","tex","Texture2D","sharedCanvas","width","height","on","getChildByName","active","director","loadScene","shareAppMessage","_updateSubCanvas","initWithElement","handleLoadedTexture","spriteFrame","SpriteFrame","update","onEnable","rankList"],"mappings":";;;;;;AAAA,IAAIA,MAAMC,QAAQ,eAAR,CAAV;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,mBAAW;AACPC,qBAAS,IADF;AAEPC,kBAAMP,GAAGQ;AAFF,SADH;AAKRC,mBAAW;AACPH,qBAAS,IADF;AAEPC,kBAAMP,GAAGU;AAFF,SALH;AASRC,mBAAU;AACNL,qBAAQ,IADF;AAENC,kBAAKP,GAAGU;AAFF;AATF,KAHP;;AAkBL;;AAEAE,UApBK,oBAoBK,CAET,CAtBI;AAwBLC,SAxBK,mBAwBI;AACL,YAAIC,OAAOC,EAAP,IAAaC,SAAjB,EAA4B;AACxBF,mBAAOC,EAAP,CAAUE,aAAV,CAAwB,EAACC,iBAAiB,IAAlB,EAAxB;AACA,iBAAKC,GAAL,GAAW,IAAInB,GAAGoB,SAAP,EAAX;AACAN,mBAAOO,YAAP,CAAoBC,KAApB,GAA4B,IAA5B;AACAR,mBAAOO,YAAP,CAAoBE,MAApB,GAA6B,IAA7B;AACH;;AAED,aAAKd,SAAL,CAAee,EAAf,CAAkB,YAAlB,EAAgC,YAAU;AACtC,iBAAKf,SAAL,CAAegB,cAAf,CAA8B,OAA9B,EAAuCC,MAAvC,GAAgD,IAAhD;AACH,SAFD,EAEG,IAFH;AAGA,aAAKjB,SAAL,CAAee,EAAf,CAAkB,UAAlB,EAA8B,YAAU;AACpC,iBAAKf,SAAL,CAAegB,cAAf,CAA8B,OAA9B,EAAuCC,MAAvC,GAAgD,KAAhD;AACA1B,eAAG2B,QAAH,CAAYC,SAAZ,CAAsB,MAAtB;AACH,SAHD,EAGG,IAHH;AAIA,aAAKnB,SAAL,CAAee,EAAf,CAAkB,aAAlB,EAAiC,YAAU;AACvC,iBAAKf,SAAL,CAAegB,cAAf,CAA8B,OAA9B,EAAuCC,MAAvC,GAAgD,KAAhD;AACH,SAFD,EAEG,IAFH;;AAIA,aAAKf,SAAL,CAAea,EAAf,CAAkB,YAAlB,EAAgC,YAAU;AACtC,iBAAKb,SAAL,CAAec,cAAf,CAA8B,OAA9B,EAAuCC,MAAvC,GAAgD,IAAhD;AACH,SAFD,EAEG,IAFH;AAGA,aAAKf,SAAL,CAAea,EAAf,CAAkB,UAAlB,EAA8B,YAAU;AACpC,iBAAKb,SAAL,CAAec,cAAf,CAA8B,OAA9B,EAAuCC,MAAvC,GAAgD,KAAhD;AACA5B,gBAAI+B,eAAJ,CAAoB,WAApB,EAAiC,eAAjC;AACH,SAHD,EAGG,IAHH;AAIA,aAAKlB,SAAL,CAAea,EAAf,CAAkB,aAAlB,EAAiC,YAAU;AACvC,iBAAKb,SAAL,CAAec,cAAf,CAA8B,OAA9B,EAAuCC,MAAvC,GAAgD,KAAhD;AACH,SAFD,EAEG,IAFH;;AAIA;AACA;AACA;AACH,KAzDI;AA2DLI,oBA3DK,8BA2Dc;AACf,YAAIhB,OAAOO,YAAP,IAAuBL,SAAvB,IAAoC,KAAKG,GAA7C,EAAkD;AAC9C,iBAAKA,GAAL,CAASY,eAAT,CAAyBjB,OAAOO,YAAhC;AACA,iBAAKF,GAAL,CAASa,mBAAT;AACA,iBAAK3B,SAAL,CAAe4B,WAAf,GAA6B,IAAIjC,GAAGkC,WAAP,CAAmB,KAAKf,GAAxB,CAA7B;AACH;AACJ,KAjEI;AAkELgB,UAlEK,oBAkEI;AACL,aAAKL,gBAAL;AACH,KApEI;AAsELM,YAtEK,sBAsEM;AACPtC,YAAIuC,QAAJ,CAAa,MAAb;AACH;AAxEI,CAAT","file":"rankView.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\rank","sourcesContent":["var CHD = require(\"commonHandler\");\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        subCanvas: {\r\n            default: null,\r\n            type: cc.Sprite\r\n        },\r\n        returnBtn: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        friendBtn:{\r\n            default:null,\r\n            type:cc.Node\r\n        },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n\r\n    },\r\n\r\n    start () {\r\n        if (window.wx != undefined) {\r\n            window.wx.showShareMenu({withShareTicket: true});\r\n            this.tex = new cc.Texture2D();\r\n            window.sharedCanvas.width = 1080;\r\n            window.sharedCanvas.height = 1920;\r\n        }\r\n\r\n        this.returnBtn.on('touchstart', function(){\r\n            this.returnBtn.getChildByName('cover').active = true;\r\n        }, this)\r\n        this.returnBtn.on('touchend', function(){\r\n            this.returnBtn.getChildByName('cover').active = false;\r\n            cc.director.loadScene('home');\r\n        }, this)\r\n        this.returnBtn.on('touchcancel', function(){\r\n            this.returnBtn.getChildByName('cover').active = false;\r\n        }, this)\r\n\r\n        this.friendBtn.on('touchstart', function(){\r\n            this.friendBtn.getChildByName('cover').active = true;\r\n        }, this)\r\n        this.friendBtn.on('touchend', function(){\r\n            this.friendBtn.getChildByName('cover').active = false;\r\n            CHD.shareAppMessage('hitBricks', 'hitBricks.jpg');\r\n        }, this)\r\n        this.friendBtn.on('touchcancel', function(){\r\n            this.friendBtn.getChildByName('cover').active = false;\r\n        }, this)\r\n\r\n        // this.node.on('touchstart', function(event){\r\n        //     event.stopPropagation();\r\n        // }, this);\r\n    },\r\n\r\n    _updateSubCanvas() {\r\n        if (window.sharedCanvas != undefined && this.tex) {\r\n            this.tex.initWithElement(window.sharedCanvas);\r\n            this.tex.handleLoadedTexture();\r\n            this.subCanvas.spriteFrame = new cc.SpriteFrame(this.tex);\r\n        }\r\n    },\r\n    update() {\r\n        this._updateSubCanvas();\r\n    },\r\n\r\n    onEnable() {\r\n        CHD.rankList(\"rank\");\r\n    }\r\n});"]}