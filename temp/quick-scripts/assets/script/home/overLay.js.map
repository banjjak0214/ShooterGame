{"version":3,"sources":["overLay.js"],"names":["CHD","require","cc","Class","extends","Component","properties","overBtn","Node","closeBtn","closeHover","tipNumTxt","Label","start","string","tipNum","on","event","active","node","getChildByName","invite","stopPropagation","self","window","wx","undefined","shareAppMessage","title","imageUrl","query","success","res"],"mappings":";;;;;;AAAA,IAAIA,MAAMC,QAAQ,eAAR,CAAV;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,iBAAQL,GAAGM,IADH;AAERC,kBAASP,GAAGM,IAFJ;AAGRE,oBAAWR,GAAGM,IAHN;;AAKRG,mBAAUT,GAAGU;AALL,KAHP;;AAYL;;AAEAC,SAdK,mBAcI;AACL,aAAKF,SAAL,CAAeG,MAAf,GAAwBd,IAAIe,MAA5B;AACA,aAAKN,QAAL,CAAcO,EAAd,CAAiB,YAAjB,EAA+B,UAASC,KAAT,EAAe;AAC1C,iBAAKP,UAAL,CAAgBQ,MAAhB,GAAyB,IAAzB;AACH,SAFD,EAEG,IAFH;AAGA,aAAKT,QAAL,CAAcO,EAAd,CAAiB,UAAjB,EAA6B,UAASC,KAAT,EAAe;AACxC,iBAAKP,UAAL,CAAgBQ,MAAhB,GAAyB,KAAzB;AACA,iBAAKC,IAAL,CAAUD,MAAV,GAAmB,KAAnB;AACH,SAHD,EAGG,IAHH;AAIA,aAAKT,QAAL,CAAcO,EAAd,CAAiB,aAAjB,EAAgC,UAASC,KAAT,EAAe;AAC3C,iBAAKP,UAAL,CAAgBQ,MAAhB,GAAyB,KAAzB;AACH,SAFD,EAEG,IAFH;;AAIA,aAAKX,OAAL,CAAaS,EAAb,CAAgB,YAAhB,EAA8B,YAAU;AACpC,iBAAKT,OAAL,CAAaa,cAAb,CAA4B,OAA5B,EAAqCF,MAArC,GAA8C,IAA9C;AACH,SAFD,EAEG,IAFH;AAGA,aAAKX,OAAL,CAAaS,EAAb,CAAgB,UAAhB,EAA4B,YAAU;AAClC,iBAAKT,OAAL,CAAaa,cAAb,CAA4B,OAA5B,EAAqCF,MAArC,GAA8C,KAA9C;AACA,iBAAKG,MAAL;AACH,SAHD,EAGG,IAHH;AAIA,aAAKd,OAAL,CAAaS,EAAb,CAAgB,aAAhB,EAA+B,YAAU;AACrC,iBAAKT,OAAL,CAAaa,cAAb,CAA4B,OAA5B,EAAqCF,MAArC,GAA8C,KAA9C;AACH,SAFD,EAEG,IAFH;;AAIA,aAAKC,IAAL,CAAUH,EAAV,CAAa,YAAb,EAA2B,UAASC,KAAT,EAAe;AACtCA,kBAAMK,eAAN;AACH,SAFD,EAEG,IAFH;AAGH,KAzCI;AA0CLD,UA1CK,oBA0CG;AACJ,YAAIE,OAAO,IAAX;AACA,YAAIC,OAAOC,EAAP,IAAaC,SAAjB,EAA4B;AACxBF,mBAAOC,EAAP,CAAUE,eAAV,CAA0B;AACtBC,uBAAO,WADe;AAEtBC,0BAAU,wCAFY;AAGtBC,uBAAO,YAHe;AAItBC,yBAAQ,iBAACC,GAAD,EAAO;AACXhC,wBAAIe,MAAJ,IAAc,CAAd;AACAQ,yBAAKZ,SAAL,CAAeG,MAAf,GAAwBd,IAAIe,MAA5B;AACH;AAPqB,aAA1B;AASH;AACJ;;AAED;;AAzDK,CAAT","file":"overLay.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\home","sourcesContent":["var CHD = require(\"commonHandler\");\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        overBtn:cc.Node,\r\n        closeBtn:cc.Node,\r\n        closeHover:cc.Node,\r\n\r\n        tipNumTxt:cc.Label\r\n    },\r\n\r\n\r\n    // onLoad () {},\r\n\r\n    start () {\r\n        this.tipNumTxt.string = CHD.tipNum;\r\n        this.closeBtn.on('touchstart', function(event){\r\n            this.closeHover.active = true;\r\n        }, this);\r\n        this.closeBtn.on('touchend', function(event){\r\n            this.closeHover.active = false;\r\n            this.node.active = false;\r\n        }, this);\r\n        this.closeBtn.on('touchcancel', function(event){\r\n            this.closeHover.active = false;\r\n        }, this);\r\n\r\n        this.overBtn.on('touchstart', function(){\r\n            this.overBtn.getChildByName('cover').active = true;\r\n        }, this);\r\n        this.overBtn.on('touchend', function(){\r\n            this.overBtn.getChildByName('cover').active = false;\r\n            this.invite();\r\n        }, this);\r\n        this.overBtn.on('touchcancel', function(){\r\n            this.overBtn.getChildByName('cover').active = false;\r\n        }, this);\r\n\r\n        this.node.on('touchstart', function(event){\r\n            event.stopPropagation();\r\n        }, this);\r\n    },\r\n    invite(){\r\n        let self = this;\r\n        if (window.wx != undefined) {\r\n            window.wx.shareAppMessage({\r\n                title: 'hitBricks', \r\n                imageUrl: 'res/raw-assets/resources/hitBricks.jpg', \r\n                query: \"from=group\",\r\n                success:(res)=>{\r\n                    CHD.tipNum += 1;\r\n                    self.tipNumTxt.string = CHD.tipNum;\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    // update (dt) {},\r\n});\r\n"]}