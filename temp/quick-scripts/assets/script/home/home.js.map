{"version":3,"sources":["home.js"],"names":["CHD","require","GameData","cc","Class","extends","Component","properties","startBtn","Node","overlayBtn","rankBtn","shareBtn","overlayIcon","sliderIcon","soundNode","overlayNode","onLoad","director","preloadScene","start","gameStorageCheck","runIcons","on","getChildByName","active","openGame","openRank","shareAppMessage","setInitValue","loadScene","runAction","repeatForever","sequence","scaleTo","rotateTo","delayTime","x","parent","width","moveBy","key","value","ls","sys","localStorage","r","getItem","setItem"],"mappings":"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","file":"home.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\home","sourcesContent":["var CHD = require(\"commonHandler\");\nvar GameData = require(\"gameData\");\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        startBtn:cc.Node,\n        overlayBtn:cc.Node,\n        rankBtn:cc.Node,\n        shareBtn:cc.Node,\n\n        overlayIcon: cc.Node,\n        sliderIcon: cc.Node,\n\n        soundNode:cc.Node,\n        overlayNode:cc.Node\n    },\n    onLoad () {\n        cc.director.preloadScene('game');\n    },\n\n    start () {\n        this.gameStorageCheck('hitMaxScore', 0);\n        this.gameStorageCheck('isSound', 'on');\n        this.runIcons();\n        \n        this.startBtn.on('touchstart', function(){\n            this.startBtn.getChildByName('cover').active = true;\n        }, this);\n        this.startBtn.on('touchend', function(){\n            this.startBtn.getChildByName('cover').active = false;\n            this.openGame();\n        }, this)\n        this.startBtn.on('touchcancel', function(){\n            this.startBtn.getChildByName('cover').active = false;\n        }, this)\n\n\n        this.overlayBtn.on('touchstart', function(){\n            this.overlayBtn.getChildByName('cover').active = true;\n        }, this);\n        this.overlayBtn.on('touchend', function(){\n            this.overlayBtn.getChildByName('cover').active = false;\n            this.overlayNode.active = true;\n        }, this);\n        this.overlayBtn.on('touchcancel', function(){\n            this.overlayBtn.getChildByName('cover').active = false;\n        }, this);\n\n        this.rankBtn.on('touchstart', function(){\n            this.rankBtn.getChildByName('cover').active = true;\n        }, this)\n        this.rankBtn.on('touchend', function(){\n            this.rankBtn.getChildByName('cover').active = false;\n            this.openRank();\n        }, this)\n        this.rankBtn.on('touchcancel', function(){\n            this.rankBtn.getChildByName('cover').active = false;\n        }, this)\n\n        this.shareBtn.on('touchstart', function(){\n            this.shareBtn.getChildByName('cover').active = true;\n        }, this);\n        this.shareBtn.on('touchend', function(){\n            this.shareBtn.getChildByName('cover').active = false;\n            CHD.shareAppMessage('hitBricks', 'hitBricks.jpg');\n        }, this);\n        this.shareBtn.on('touchcancel', function(){\n            this.shareBtn.getChildByName('cover').active = false;\n        }, this);\n        \n        \n        CHD.setInitValue(GameData);\n        // this.soundNode.getComponent('sound').init();\n    },\n    openGame() {\n        cc.director.loadScene('game');\n    },\n    openRank() {\n        cc.director.loadScene('rank');\n    },\n\n    runIcons(){\n        this.overlayIcon.runAction(cc.repeatForever(\n            cc.sequence(\n                cc.scaleTo(0.25, 1.2),\n                cc.rotateTo(0.2, -36),\n                cc.rotateTo(0.2, 34),\n                cc.rotateTo(0.2, -30),\n                cc.rotateTo(0.1, 0),\n                cc.scaleTo(0.2, 1),\n                cc.delayTime(2)\n            )\n        ));\n\n        this.sliderIcon.x = -this.sliderIcon.parent.width/3;\n        this.sliderIcon.runAction(cc.repeatForever(\n            cc.sequence(\n                cc.moveBy(0.8, 2*this.sliderIcon.parent.width/3, 0),\n                cc.moveBy(0.8, -2*this.sliderIcon.parent.width/3, 0)\n            )\n        ));\n    },\n    gameStorageCheck(key, value) {\n        var ls = cc.sys.localStorage;\n        var r = ls.getItem(key);\n        if (r == \"\" || r == null) {\n            ls.setItem(key, value);\n        }\n    },\n    // update (dt) {},\n});\n\n"]}