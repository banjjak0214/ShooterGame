{"version":3,"sources":["..\\..\\..\\..\\assets\\script/assets\\script\\commonHandler.js"],"names":["commonHandler","hitMaxScore","setSoundStatus","status","cc","sys","localStorage","setItem","getMaxScore","setMaxScore","score","setInitValue","gameData","str1","getItem","isSound","parseInt","shareAppMessage","title","shareImg","window","wx","undefined","imageUrl","query","rankList","vType","postMessage","messageType","viewType","log","module","exports"],"mappings":";;;;;;AACA,IAAIA,gBAAgB;AAChB;AACA;AACAC,iBAAY,CAHI;AAIhB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAC,kBAlCgB,0BAkCDC,MAlCC,EAkCO;AACnB,YAAIA,MAAJ,EAAY;AACRC,eAAGC,GAAH,CAAOC,YAAP,CAAoBC,OAApB,CAA4B,SAA5B,EAAuC,IAAvC;AACH,SAFD,MAEO;AACHH,eAAGC,GAAH,CAAOC,YAAP,CAAoBC,OAApB,CAA4B,SAA5B,EAAuC,KAAvC;AACH;AACD;AACH,KAzCe;AA0ChBC,eA1CgB,yBA0CF;AACV,eAAO,KAAKP,WAAZ;AACH,KA5Ce;AA6ChBQ,eA7CgB,uBA6CJC,KA7CI,EA6CG;AACf,aAAKT,WAAL,GAAmBS,KAAnB;AACAN,WAAGC,GAAH,CAAOC,YAAP,CAAoBC,OAApB,CAA4B,aAA5B,EAA2CG,KAA3C;AACA;AACH,KAjDe;AAkDhBC,gBAlDgB,wBAkDHC,QAlDG,EAkDO;AACnB,YAAIC,OAAOT,GAAGC,GAAH,CAAOC,YAAP,CAAoBQ,OAApB,CAA4B,SAA5B,CAAX;AACA,YAAID,QAAQ,IAAZ,EAAkB;AACdD,qBAASG,OAAT,GAAmB,IAAnB;AACH,SAFD,MAEO,IAAIF,QAAQ,KAAZ,EAAmB;AACtBD,qBAASG,OAAT,GAAmB,KAAnB;AACH;AACD,aAAKd,WAAL,GAAmBe,SAASZ,GAAGC,GAAH,CAAOC,YAAP,CAAoBQ,OAApB,CAA4B,aAA5B,CAAT,CAAnB;AACA;AACH,KA3De;AA6DhBG,mBA7DgB,2BA6DAC,KA7DA,EA6DOC,QA7DP,EA6DiB;AAC7B,YAAIC,OAAOC,EAAP,IAAaC,SAAjB,EAA4B;AACxBF,mBAAOC,EAAP,CAAUJ,eAAV,CAA0B;AACtBC,uBAAOA,KADe;AAEtBK,0BAAU,8BAA8BJ,QAFlB;AAGtBK,uBAAO;AAHe,aAA1B;AAKH;AACJ,KArEe;;AAsEhB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,YAjFgB,oBAiFPC,KAjFO,EAiFA;AACZ,YAAIN,OAAOC,EAAP,IAAaC,SAAjB,EAA4B;AACxBF,mBAAOC,EAAP,CAAUM,WAAV,CAAsB;AAClBC,6BAAa,UADK;AAElBC,0BAASH;AAFS,aAAtB;AAIH,SALD,MAKO;AACHtB,eAAG0B,GAAH,CAAO,iBAAP;AACH;AACJ;AA1Fe,CAApB;AA2GAC,OAAOC,OAAP,GAAiBhC,aAAjB","file":"commonHandler.js","sourceRoot":"..\\..\\..\\..\\assets\\script","sourcesContent":["\r\nvar commonHandler = {\r\n    // tipNum:0,\r\n    // isSound: true,\r\n    hitMaxScore:0,\r\n    // score:0,\r\n    // blockDropSpeed:4,\r\n\r\n    // bulletSpeed:4,\r\n    // bulletPower:6,\r\n    // bulletMulti:1,\r\n\r\n    // // bulletGroupPool:null,\r\n    // blistPool:null,\r\n    // blockListPool:null,\r\n    // blastPool:null,\r\n\r\n    // centerLine:0,\r\n    // actorLine:0,\r\n    // endLine:0,\r\n\r\n    // cursorXPos:0,\r\n    // jumpMove:0,\r\n    // collideStatus:[0,0],\r\n    // rocketStatus:0,\r\n    \r\n   \r\n    // revertNum(strNum){\r\n    //     strNum = String(strNum);\r\n    //     if(strNum.search('K') > 0){\r\n    //         return Number(strNum.substr(0, strNum.length -1))*1000;\r\n    //     }\r\n    //     return Number(strNum);\r\n    // },\r\n   \r\n    setSoundStatus(status) {\r\n        if (status) {\r\n            cc.sys.localStorage.setItem('isSound', 'on');\r\n        } else {\r\n            cc.sys.localStorage.setItem('isSound', 'off');\r\n        }\r\n        // this.isSound = status;\r\n    },\r\n    getMaxScore() {\r\n        return this.hitMaxScore;\r\n    },\r\n    setMaxScore(score) {\r\n        this.hitMaxScore = score;\r\n        cc.sys.localStorage.setItem('hitMaxScore', score); \r\n        // this.submitScore(score);\r\n    },\r\n    setInitValue(gameData) {\r\n        let str1 = cc.sys.localStorage.getItem('isSound');\r\n        if (str1 == 'on') {\r\n            gameData.isSound = true;\r\n        } else if (str1 == 'off') {\r\n            gameData.isSound = false;\r\n        }\r\n        this.hitMaxScore = parseInt(cc.sys.localStorage.getItem('hitMaxScore'));\r\n        // this.setMaxScore(0);\r\n    },\r\n\r\n    shareAppMessage(title, shareImg) {\r\n        if (window.wx != undefined) {\r\n            window.wx.shareAppMessage({\r\n                title: title, \r\n                imageUrl: 'res/raw-assets/resources/' + shareImg, \r\n                query: \"from=group\"\r\n            });\r\n        }\r\n    },\r\n    // submitScore(){\r\n    //     // cc.log('submitScore:  '+score);\r\n    //     if (window.wx != undefined) {\r\n    //         window.wx.postMessage({\r\n    //             messageType: \"sendScore\",\r\n    //             score: this.score\r\n    //         });\r\n    //     } else {\r\n    //         cc.log(\"fail: x_total : \" + this.score)\r\n    //     }\r\n    // },\r\n    rankList(vType) {\r\n        if (window.wx != undefined) {\r\n            window.wx.postMessage({\r\n                messageType: \"rankList\",\r\n                viewType:vType,\r\n            });\r\n        } else {\r\n            cc.log(\"fail rank list:\");\r\n        }\r\n    },\r\n\r\n    // groupRankList() {\r\n    //     if (window.wx != undefined) {                \r\n    //         window.wx.shareAppMessage({\r\n    //             success: (res) => {\r\n    //                 if (res.shareTickets != undefined && res.shareTickets.length > 0) {\r\n    //                     window.wx.postMessage({\r\n    //                         messageType: 'groupList',\r\n    //                         shareTicket: res.shareTickets[0]\r\n    //                     });\r\n    //                 }\r\n    //             }\r\n    //         });\r\n    //     }\r\n    // },\r\n};\r\nmodule.exports = commonHandler;"]}